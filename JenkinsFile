@Library('shlib1')_
pipeline{
  agent any
  stages{
     stage('update_Proj')
            {
                steps
                 { 
                    bbupdatedeployproject(JSON)
                    bbnewlog(" update name for the deployment project  SUCCESS")
                    }
                    post{
                          failure{
                    bbnewlog("update name for the deployment project   FAILURE")
                                  }
                        }
                 
            }
             stage('triggerdeploy')
            {
                steps
                 { 
                    bbtriggerdeploy(JSON)
                    bbnewlog("triggering deployment project  SUCCESS ")
                    }
                    post{
                       failure{
                    bbnewlog("triggering deployment project  FAILURE")
                                }
        
                        }
            
            }
             stage('add label')
            {
                steps
                 { 
                    bbaddlabelbuild(JSON)
                    bbnewlog("Adding label SUCCESS")
                    }
                     post{
                       failure{
                    bbnewlog("Adding label FAILURE")
                                }
        
                        }
                    
                 }
            
             stage('addcomment')
            {
                steps
                 { 
                   bbaddcomment(JSON)
                   bbnewlog("Adding comment SUCCESS")
                   }
                     post{
                       failure{
                   bbnewlog("Adding comment FAILURE")
                                }
        
                        }
                    
                    
                 
            }
             stage('executeallstage')
            {
                steps
                 { 
                   bbexecuteall(JSON)
                    bbnewlog("execute stage SUCCESS")
                    }
                     post{
                       failure{
                    bbnewlog("execute stage FAILURE")
                                }
        
                        }
                    
                    
                    
                
            }
             stage('deleteproject')
            {
                steps
                 { 
                   bbdeleteproject()
                   bbnewlog("delete project SUCCESS")
                   }
                     post{
                       failure{
                   bbnewlog("delete project FAILURE")
                                }
        
                        }
                   
                    }
                     
                    
                    
                 
            
             stage('allcollectorfunctions')
            {
                steps
                 { 
                   bamboocollectorall(JSON)
                   bbnewlog("Listing plans                             SUCCESS")
                   bbnewlog("Listing projects                          SUCCESS")
                   bbnewlog("List particular deploymentprojectdetails  SUCCESS")
                   bbnewlog("List particular deploymentprojectversion  SUCCESS")
                   bbnewlog("Listparticular plan details               SUCCESS")
                   bbnewlog("latest build result                       SUCCESS")
                   }
                     post{
                       failure{
                  bbnewlog("all collector function                      FAILURE")
                                }
        
                        }
                    
                    
                    
                 }
               
              
            }
}
