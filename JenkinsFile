@Library('shlib1')_
pipeline{
  agent any
  stages{
     stage('Bamboo')
            {
                steps
                {
                Bambooaddcomment(JSON)
                Bambooaddlabelbuild(JSON)
                Bambooexecuteall(JSON)
                Bambootriggerdeploy(JSON)
                Bambooupdatedeployproject(JSON)
                Bamboodeleteproject(JSON)
                Bamboocollectorall(JSON)
                bbnewlog(" connector and collector functions executed successfully")
                }
                post
                {
                    failure
                    {
                       bbnewlog("  connector and collector functions executed successfully")
                    }
                }
              
            }
            stage('Nexus')
            {
                steps
                 { 
                     Ncreate_repo(JSON)                
                     Ncreate_user(JSON)
                     Nchange_pwd(JSON)
                     Ndown_artifact(JSON)
                     Npart_repo(JSON)
                     Nlist_repos(JSON)
                     Nuserid_info(JSON)
                     Nrepo_status(JSON)
                     NPrivilage(JSON)
                  // Ndelete_repo(JSON)
                    bbnewlog(" Collector & Connector function executed successfully")
                  }
                post
                  {
                      failure
                          {
                               bbnewlog("  Collector & Connector function not executed successfully")
                          }
    
                 }
            }
}
}
