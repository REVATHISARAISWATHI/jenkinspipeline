@Library('shlib1')_
pipeline{
  agent any
  stages{
     stage('Bamboo')
            {
                steps
                {
                Bambooaddcomment(JSON)
                Bambooaddlabelbuild(JSON)
                Bambooexecuteall(JSON)
                Bambootriggerdeploy(JSON)
                Bambooupdatedeployproject(JSON)
                Bamboodeleteproject(JSON)
                Bamboocollectorall(JSON)
                bbnewlog("connector and collector functions executed successfully")
                }
                post
                {
                    failure
                    {
                       bbnewlog("connector and collector functions executed successfully")
                    }
                }
              
            }
            stage('Nexus')
            {
                steps
                 { 
                    Ncreate_repo(jsondata)                
                    Ncreate_user(jsondata)
                    Nchange_pwd(jsondata)
                    Ndown_artifact(jsondata)
                     Npart_repo(jsondata)
                     Nlist_repos(jsondata)
                     Nuserid_info(jsondata)
                     Nrepo_status(jsondata)
                     NPrivilage(jsondata)
                    // Ndelete_repo(jsondata)
                    NlogNexus("Collector & Connector function executed successfully")
                  }
                post
                  {
                      failure
                          {
                               NlogNexus("Collector & Connector function not executed successfully")
                          }
    
                 }
            }
}
}
