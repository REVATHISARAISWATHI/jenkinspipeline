@Library('shlib1')_
pipeline{
  agent any
  stages{
     stage('update_Proj')
            {
                steps
                 { 
                    bbupdatedeployproject(JSON)
                    bblog("name updated successfully for the deployment project")
                    }
                    post{
                          failure{
                               bblog("name is not updated successfully for the deployment project")
                                  }
                        }
                 
            }
             stage('triggerdeploy')
            {
                steps
                 { 
                    bbtriggerdeploy(JSON)
                    bblog(" deployment project triggered successfully for this deploymentprojectid")
                    }
                    post{
                       failure{
                             bblog("deployment project is not triggered successfullyfor this deploymentprojectid")
                                }
        
                        }
            
            }
             stage('add label')
            {
                steps
                 { 
                    bbaddlabelbuild(JSON)
                    bblog("label added successfully for the project")
                    }
                     post{
                       failure{
                             bblog("label not added successfully for the project")
                                }
        
                        }
                    
                 }
            
             stage('addcomment')
            {
                steps
                 { 
                   bbaddcomment(JSON)
                   bblog("comment added successfully for the project")
                   }
                     post{
                       failure{
                             bblog("comment not added successfully for the project")
                                }
        
                        }
                    
                    
                 
            }
             stage('executeallstage')
            {
                steps
                 { 
                   bbexecuteall(JSON)
                    bblog("stage executed successfully for the project")
                    }
                     post{
                       failure{
                             bblog("stage not executed successfully for the project")
                                }
        
                        }
                    
                    
                    
                
            }
             stage('deleteproject')
            {
                steps
                 { 
                   bbdeleteproject(JSON)
                    bblog("project deleted successfully")
                    }
                     post{
                       failure{
                             bblog("project not deleted successfully")
                                }
        
                        }
                    
                    
                 
            }
             stage('collector')
            {
                steps
                 { 
                   bamboocollectorall(JSON)
                   bblog("plans listed successfully")
                   bblog("project listed successfully")
                   bblog("deploymentprojectdetails showed successfully")
                   bblog("deploymentprojectversion details showed successfully")
                   bblog("particular plan details showed successfully")
                   bblog("latest build result showed successfully")
                   }
                     post{
                       failure{
                             bblog("all collector functions are failed")
                                }
        
                        }
                    
                    
                    
                 }
               
              
            }
}
